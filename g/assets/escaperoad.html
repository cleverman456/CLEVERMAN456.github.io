<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Escape Road City 2</title>
    <link rel="stylesheet" href="25030706/theme/game.css">
    <meta name="robots" content="noindex, nofollow">
    <meta name="theme-color" content="#000000">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: black; overflow: hidden; }
        #unityContainer { width: 100%; height: 100%; background: #000; }
    </style>
</head>
<body>
    <div id="unityContainer"></div>

    <script>
        (function() {
            // ---- Unity build data embedded inline ----
            const buildData = {
                dataUrl: "Build/EscapeRoadCity2.data",
                frameworkUrl: "Build/EscapeRoadCity2.framework.js",
                codeUrl: "Build/EscapeRoadCity2.wasm",
                streamingAssetsUrl: "Build/StreamingAssets",
                companyName: "YourCompany",
                productName: "Escape Road City 2",
                productVersion: "1.0",
                showBanner: function(msg, type) {
                    console.log(type + ": " + msg);
                }
            };

            // ---- Dummy loader script content inline ----
            // Normally this is loaded from EscapeRoadCity2.loader.js, but we can call createUnityInstance manually
            function loadUnity() {
                // Override locateFile to prevent URL renaming
                buildData.locateFile = function(path) {
                    if (path.startsWith("http") || path.startsWith("/")) return path;
                    if (path.endsWith(".data")) return buildData.dataUrl;
                    if (path.endsWith(".framework.js")) return buildData.frameworkUrl;
                    if (path.endsWith(".wasm")) return buildData.codeUrl;
                    return buildData.streamingAssetsUrl + "/" + path;
                };

                // Dynamically load the framework
                const script = document.createElement("script");
                script.src = buildData.frameworkUrl;
                script.onload = () => {
                    createUnityInstance(document.querySelector("#unityContainer"), buildData)
                    .then(unityInstance => console.log("Unity loaded successfully!"))
                    .catch(err => alert("Failed to load Unity: " + err));
                };
                document.body.appendChild(script);
            }

            loadUnity();
        })();
    </script>
</body>
</html>
